<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" charset="utf-8">
		<link rel="stylesheet" href="./data/style.css" type="text/css">
		<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
		<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
		
		<!--  花火のアニメーション再生に必要  -->
		<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
		<!-- 
		この度 head-JavaScript は data-headCode-JavaScriptへと移転しました。
			　ーーー長らくご利用いただき誠にありがとうございました。ーーー -->
		<script src = "./data/headCode.js"></script>

	</head>

	<!--ズームなどの一部動作の制限-->
	<body style="touch-action:none">

		<!--iOSにおいてDeviceMotion取得するために、ユーザーに画面タッチを強制-->
		<div class="permission_ui">
			<p class="permission_ui center_ui">画面をタッチしてください</p>
		</div>

		<!--3D空間-->
		
		<!--
		permission_uiを優先するために初期状態では表示しない
		device-orientation-permission-uiをfalseにすることでa-frameにデフォルトで搭載されているDeviceMotion取得用UIを無視
		embedded arjsでarモードを有効化
		vr-mode-uiをfalseにすることで右下の謎のボタンを削除(Androidだとできてない？)
		id="main"は今のところ意味なし
		-->
		<a-scene id="main" device-orientation-permission-ui="enabled: false" embedded arjs vr-mode-ui="enabled: false;" style="display: none">
			<a-entity id='camera' camera look-controls="touchEnabled: false;" wasd-controls position="0 0 0">
				
				<!--移動オブジェクトの移動先の取得-->
				<a-entity cursor="rayOrigin: mouse" raycaster="objects: #target;"></a-entity> 

				<!--rayの衝突用-->
				<a-plane cursor-listener id="target" position="0 0 -10" scale="25 15 1" color = "red" opacity = "0"></a-plane>
				<!--
				<a-plane cursor-listener id="target" position="0 0 -2" scale="25 15 1" opacity="0"></a-plane>
				--> 
			</a-entity>

			<!--  たぶん　つかわなくていい  -->
			<!--
			<a-box
				id = "obj"
				position = "0 0 0"
				rotation = "0 0 0"
				color = "yellow">
			</a-box>
			-->
			<!--
			<a-entity
                id = "taihou"
                position = "0 0 -5"
                rotation = "0 0 0"
                scale = "1 1 1">
                <a-box
                    id = "taihouNoDodai"
                    position = "-1 0 0"
                    scale = "1 1 1"
                    color = "red"
                    raycaster-listen>
                </a-box>
                <a-cylinder
                    id = "taihouNoTutu"
                    position = "1 0 0"
                    scale = "1 1 1"
                    color = "red"
                    raycaster-listen>
                </a-cylinder>
            </a-entity>
			-->

			<!--  これは使う？  -->
			<!--
            <a-assets>
                <a-assets-item id = "model" src="./data/花火.glb">
            </a-assets>
            <a-gltf-model id = "hanabi"
                dynamic-body = "shape: cube; mass: 1"
                position = "0 0 0"
                raycaster-listens
                src = "#model">
            </a-gltf-model>
            -->

		</a-scene>

		<!-- 生成用 -->
        <input type = "button" id = "b1" value = "copy Fireworks" ontouchend = "clicked();">
        <h1 id = "nankadeta"></h1>

		<!--  移動するもの -->
		<input type = "button" id = "b2" value = "親オブジェクトを移動中" ontouchend = "moveObj();">
        <h1 id = "nankadeta"></h1>

		<!--  ｂ３以上はボタンの形が違うらしい  -->
		<!--  FIRE!!!!!!  -->
		<input type = "button" id = "b3" value = "打ち上げ" ontouchend = "tenka();">
        <h1 id = "nankadeta"></h1>
		
		<!--仮UI-->


		<!--JS用-->

		<!--<script src="./data/tutorial.js"></script>-->
		<script src="./data/tsts.js"></script>
	</body>
</html>